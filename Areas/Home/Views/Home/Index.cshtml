@model avatCo.Models.ViewModels.HomePageViewModel
@{
    ViewData["Title"] = "Home Page";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<section id="heroCarousel" class="carousel slide carousel-fade" data-bs-ride="carousel" data-bs-interval="3000" data-bs-wrap="true">
    <div class="carousel-inner">

        <!-- Slide 1 -->
        <div class="carousel-item active">
            <img src="/uploads/Home/Hero1.png" class="d-block w-100" alt="Hero 1">
            <div class="carousel-caption d-flex flex-column align-items-center justify-content-center h-100">
                <h1 class="fw-bold display-5">به فروشگاه اوات کو خوش آمدید</h1>
                <p class="lead">بزرگ‌ترین فروشگاه آنلاین محصولات آزمایشگاهی غرب کشور</p>
                <a href="/Products" class="btn btn-light btn-lg text-white">دیدن محصولات</a>
            </div>
        </div>

        <!-- Slide 2 -->
        <div class="carousel-item">
            <img src="/uploads/Home/Hero2.png" class="d-block w-100" alt="Hero 2">
            <div class="carousel-caption d-flex flex-column align-items-center justify-content-center h-100">
                <h1 class="fw-bold display-5">پشتیبانی و مشاوره رایگان</h1>
                <p class="lead">تیم ما آماده پاسخگویی به سوالات و ارائه مشاوره تخصصی است</p>
                <a href="/Contact/RequestConsultation" class="btn btn-light btn-lg text-white">درخواست مشاوره</a>
            </div>
        </div>

        <!-- Slide 3 -->
        <div class="carousel-item">
            <img src="/uploads/Home/Hero3.png" class="d-block w-100" alt="Hero 3">
            <div class="carousel-caption d-flex flex-column align-items-center justify-content-center h-100">
                <h1 class="fw-bold display-5">ارسال سریع و مطمئن</h1>
                <p class="lead">محصولات شما در کوتاه‌ترین زمان به دستتان می‌رسد</p>
                <a href="/Shipping" class="btn btn-light btn-lg text-white">اطلاعات ارسال</a>
            </div>
        </div>

    </div>

    <!-- Controls -->
    <button class="carousel-control-prev" type="button" data-bs-target="#heroCarousel" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">قبلی</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#heroCarousel" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">بعدی</span>
    </button>
</section>

<!-- Special Offers -->
<section class="special-offers container my-5">
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h4>پیشنهادات ویژه</h4>
    </div>
    <div class="scroll-container">
        <button class="scroll-btn prev-btn">&lt;</button>
        <div class="row g-3 flex-nowrap overflow-auto scrollable-row">
            @foreach (var so in Model.Products.Where(p => p.IsSpecialOffer))
            {
                <div class="col-6 col-md-3 flex-shrink-0">
                    <div class="card text-center h-100 category-card">
                        <img src="@so.ImageUrl" class="category-img" alt="@so.Title" />
                        <div class="card-body">
                            <h6>@so.Title</h6>
                            <a href="@Url.Action("Details", "Products", new { id = so.Id })" class="stretched-link"></a>
                        </div>
                    </div>
                </div>
            }
        </div>
        <button class="scroll-btn next-btn">&gt;</button>
    </div>
</section>


<!--Categories-->
<section class="categories container my-5">
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h4>دسته بندی ها</h4>
        <a href="/Products" class="btn btn-outline-dark">همه</a>
    </div>

    <h2 class="mt-5">Explore Categories</h2>
    <div class="scroll-container">
        <button class="scroll-btn prev-btn">&lt;</button>
        <div class="row g-3 flex-nowrap overflow-auto scrollable-row">
            @foreach (var cat in Model.Categories)
            {
                <div class="col-6 col-md-3 flex-shrink-0">
                    <div class="card text-center h-100 category-card">
                        <img src="@cat.ImageUrl" class="category-img" alt="@cat.Name" />
                        <div class="card-body">
                            <h6>@cat.Name</h6>
@*                             <h6>@cat.Description</h6> *@
                            <a href="@Url.Action("Details", "Categories", new { id = cat.Id })" class="stretched-link"></a>
                        </div>
                    </div>
                </div>
            }
        </div>
        <button class="scroll-btn next-btn">&gt;</button>
    </div>



    <script>
        const scrollContainer = document.querySelector('.scrollable-row');
        const prevBtn = document.querySelector('.prev-btn');
        const nextBtn = document.querySelector('.next-btn');

        prevBtn.addEventListener('click', () => {
            scrollContainer.scrollLeft -= 220; // Adjust based on card width + margin
        });

        nextBtn.addEventListener('click', () => {
            scrollContainer.scrollLeft += 220; // Adjust based on card width + margin
        });
    </script>

</section>

@* Promos + Services section (RTL) *@
<section class="home-promo" dir="rtl">
    <div class="container">

        <div class="promos-container">
            <div class="promo-card">
                <div class="img-wrap">
                    <img src="@Url.Content("~/uploads/Home/50_parcent.jpg")" alt="۵۰٪ تخفیف" />
                </div>
                <p class="promo-caption">۵۰ درصد تخفیف فقط تا آخر امروز</p>
            </div>

            <div class="promo-card">
                <div class="img-wrap">
                    <img src="@Url.Content("~/uploads/Home/Postman.jpg")" alt="ارسال رایگان" />
                </div>
                <p class="promo-caption">تا آخر این ماه هزینه پست با ما</p>
            </div>
        </div>


        <!-- Row 2: Services (pink band) -->
        <div class="services-wrapper">
            <div class="services-grid">
                <article class="service-card">
                    <img src="@Url.Content("~/uploads/Home/girl_Chemist.png")" alt="نازل ترین قیمت" />
                    <div class="overlay"><h3>به نازل ترین قیمت</h3></div>
                </article>

                <article class="service-card">
                    <img src="@Url.Content("~/uploads/Home/male_chemist2.jpg")" alt="خدمات متناسب" />
                    <div class="overlay"><h3>خدمات متناسب با نیاز شما</h3></div>
                </article>

                <article class="service-card">
                    <img src="@Url.Content("~/uploads/Home/male_chemist.jpg")" alt="تخصص آزمایشگاهی" />
                    <div class="overlay"><h3>تخصصی‌ترین حوزه‌های آزمایشگاهی</h3></div>
                </article>
            </div>
        </div>

    </div>
</section>


<section class="bg-light py-5 mt-5" dir="rtl">
    <div class="container text-center">
        <h2 class="h2 fw-bold text-dark mb-3">مشاوره رایگان با متخصصان ما</h2>
        <p class="fs-5 text-muted mb-4">
            اگر سوالی دارید یا نیاز به راهنمایی دارید، تیم پشتیبانی ما آماده پاسخگویی و مشاوره رایگان به شماست.
        </p>

        <div class="d-flex justify-content-center flex-wrap gap-3 mb-4">
            <a href="tel:+982612345678"
               class="btn btn-danger d-flex align-items-center gap-2 rounded-pill shadow px-4 py-2">
                <i class="bi bi-telephone-fill"></i> تماس تلفنی
            </a>

            <a href="https://wa.me/989123456789"
               class="btn btn-success d-flex align-items-center gap-2 rounded-pill shadow px-4 py-2">
                <i class="bi bi-whatsapp"></i> واتساپ
            </a>

            <a href="/Contact/RequestConsultation"
               class="btn btn-indigo d-flex align-items-center gap-2 rounded-pill shadow px-4 py-2"
               style="background-color:#4f46e5; border:none; color:#ffffff;">
                <i class="bi bi-person-lines-fill"></i> درخواست مشاوره
            </a>
        </div>
    </div>
</section>



